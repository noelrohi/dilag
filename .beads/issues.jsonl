{"id":"dilag-2yc","title":"Fix chat view scrolling and height","description":"Fixed Conversation component not scrolling: added proper flex layout with flex-1 min-h-0, removed conflicting overflow-y-auto from ConversationContent, fixed height calculation for viewport.","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-12-16T12:27:29.057466+08:00","updated_at":"2025-12-16T12:27:55.080365+08:00","closed_at":"2025-12-16T12:27:55.080365+08:00"}
{"id":"dilag-3og","title":"Native macOS theme and window styling","description":"Updated theme to native macOS aesthetic: system fonts (SF Pro), macOS blue accent, warm neutral grays, subtle borders, vibrancy classes, refined shadows. Configured Tauri window with visible title bar and matching background color.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-16T12:27:22.824106+08:00","updated_at":"2025-12-16T12:27:55.080096+08:00","closed_at":"2025-12-16T12:27:55.080096+08:00"}
{"id":"dilag-4jj","title":"Create session-store.tsx - Zustand store","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-16T02:12:12.74189+08:00","updated_at":"2025-12-16T02:14:33.062746+08:00","closed_at":"2025-12-16T02:14:33.062746+08:00"}
{"id":"dilag-5sa","title":"Session isolation: Use ~/.dilag/** as session cwd","description":"## Problem\nOpenCode currently reads the project directory, making the agent aware of the dilag project itself. This is undesirable - each agent session should only be aware of its own sandbox.\n\n## Solution\n- Create ~/.dilag/\u003csession-id\u003e/ directory for each session\n- Set this as the cwd/working directory for the agent session\n- Agent will only see files within its session directory\n\n## Benefits\n- Session isolation: agents can't access or modify dilag source code\n- Clean sandbox: each session starts with a fresh, isolated workspace\n- Security: prevents agents from accidentally modifying the host project","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-15T22:35:53.532545+08:00","updated_at":"2025-12-15T22:44:59.50034+08:00","closed_at":"2025-12-15T22:44:59.50034+08:00"}
{"id":"dilag-65y","title":"Remove debug events tool from page","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-16T11:54:39.98839+08:00","updated_at":"2025-12-16T12:27:55.078219+08:00","closed_at":"2025-12-16T12:27:55.078219+08:00"}
{"id":"dilag-6yp","title":"Fix: Open auth page button not working in Tauri","description":"","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-12-15T22:06:01.059557+08:00","updated_at":"2025-12-15T22:06:13.390519+08:00","closed_at":"2025-12-15T22:06:13.390519+08:00"}
{"id":"dilag-718","title":"Refactor use-sessions to use new architecture","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-16T02:12:38.388432+08:00","updated_at":"2025-12-16T02:22:34.733907+08:00","closed_at":"2025-12-16T02:22:34.733907+08:00"}
{"id":"dilag-779","title":"Create diff-viewer component","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-16T02:12:33.264069+08:00","updated_at":"2025-12-16T02:22:34.734516+08:00","closed_at":"2025-12-16T02:22:34.734516+08:00"}
{"id":"dilag-8io","title":"Debug pane for OpenCode events","description":"Collapsible debug pane showing raw events from OpenCode server with filtering and JSON expansion","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-16T02:02:28.212507+08:00","updated_at":"2025-12-16T02:02:39.042451+08:00","closed_at":"2025-12-16T02:02:39.042451+08:00"}
{"id":"dilag-8k4","title":"Add Anthropic auth settings and upgrade to claude-opus-4-5","description":"Add ability to connect/disconnect Anthropic provider via OAuth and upgrade default model to claude-opus-4-5.","acceptance_criteria":"- [x] Settings button (gear icon) in header\n- [x] Auth dialog shows Anthropic connection status\n- [x] Connect button initiates OAuth flow (opens browser)\n- [x] User can paste authorization code to complete auth\n- [x] Disconnect button removes provider connection\n- [x] Default model updated to claude-opus-4-5\n- [x] Auth API functions added (getProviders, startOAuthFlow, completeOAuthFlow, disconnectProvider)","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-15T22:03:34.396424+08:00","updated_at":"2025-12-15T22:03:45.909431+08:00","closed_at":"2025-12-15T22:03:45.909431+08:00"}
{"id":"dilag-8k8","title":"Enhanced tool-registry with syntax highlighting and diff support","description":"","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-16T20:36:41.812048+08:00","updated_at":"2025-12-16T20:37:06.738873+08:00","closed_at":"2025-12-16T20:37:06.738873+08:00"}
{"id":"dilag-dpc","title":"Redesign session sidebar UI","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-16T02:12:28.135358+08:00","updated_at":"2025-12-16T02:22:15.752385+08:00","closed_at":"2025-12-16T02:22:15.752385+08:00"}
{"id":"dilag-e9x","title":"Add model selector to chat composer","description":"","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-16T12:42:56.601514+08:00","updated_at":"2025-12-16T12:44:53.767368+08:00","closed_at":"2025-12-16T12:44:53.767368+08:00"}
{"id":"dilag-eah","title":"Update sidebar layout for native window","description":"Simplified sidebar header with New button and toggle. Added sidebar trigger in main header when collapsed. Removed traffic light spacing after switching to visible title bar.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-16T12:27:42.248794+08:00","updated_at":"2025-12-16T12:27:55.080896+08:00","closed_at":"2025-12-16T12:27:55.080896+08:00"}
{"id":"dilag-ezp","title":"Improved tool-part UI with elapsed timer and shimmer effects","description":"","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-16T20:36:48.119486+08:00","updated_at":"2025-12-16T20:37:06.739931+08:00","closed_at":"2025-12-16T20:37:06.739931+08:00"}
{"id":"dilag-ffd","title":"OpenCode Session \u0026 Chat Integration","description":"Integrate OpenCode SDK to create sessions and chat. Tauri manages the server process, sessions stored in ~/.dilag/sessions/. UI includes session sidebar + chat view.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-15T21:42:24.663652+08:00","updated_at":"2025-12-15T21:48:58.726671+08:00","closed_at":"2025-12-15T21:48:58.726671+08:00"}
{"id":"dilag-gqz","title":"Refactor tool renderers to data-driven registry","description":"Replace 12 boilerplate tool renderer files with single tool-registry.tsx config + ToolPart component","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-16T02:02:50.304482+08:00","updated_at":"2025-12-16T02:03:03.272488+08:00","closed_at":"2025-12-16T02:03:03.272488+08:00"}
{"id":"dilag-k1s","title":"Add multi-provider OAuth support to auth settings","description":"","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-16T12:54:16.253949+08:00","updated_at":"2025-12-16T12:56:16.705966+08:00","closed_at":"2025-12-16T12:56:16.705966+08:00"}
{"id":"dilag-kpn","title":"Create global-events.tsx - Event stream manager","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-16T02:12:07.615071+08:00","updated_at":"2025-12-16T02:13:29.643707+08:00","closed_at":"2025-12-16T02:13:29.643707+08:00"}
{"id":"dilag-ljz","title":"Redesign message display \u0026 streaming UI","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-16T02:12:23.003176+08:00","updated_at":"2025-12-16T02:22:15.751197+08:00","closed_at":"2025-12-16T02:22:15.751197+08:00"}
{"id":"dilag-nyi","title":"Fix OpenCode API message parsing","description":"Messages were showing as empty bubbles because the SDK wasn't passing the model parameter correctly. Root cause: OpenCode API requires model as object { providerID, modelID } not a string.","acceptance_criteria":"- [x] Messages from assistant display with actual content\n- [x] Model parameter correctly formatted as { providerID: \"anthropic\", modelID: \"...\" }\n- [x] Switch from SDK to direct fetch calls for proper control\n- [x] Session messages load when switching sessions\n- [x] Text extracted correctly from message parts with type: \"text\"","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-12-15T22:03:04.571873+08:00","updated_at":"2025-12-15T22:03:19.789306+08:00","closed_at":"2025-12-15T22:03:19.789306+08:00"}
{"id":"dilag-o2a","title":"Cleanup chat-view component","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-16T20:36:54.389768+08:00","updated_at":"2025-12-16T20:37:06.740216+08:00","closed_at":"2025-12-16T20:37:06.740216+08:00"}
{"id":"dilag-p38","title":"Render tool calls and other message part types","description":"","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-16T01:18:42.768841+08:00","updated_at":"2025-12-16T01:30:05.095451+08:00","closed_at":"2025-12-16T01:30:05.095451+08:00"}
{"id":"dilag-svu","title":"Add streaming support for chat messages","description":"Use OpenCode event stream to show responses in real-time instead of waiting for complete response","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-15T22:31:41.874101+08:00","updated_at":"2025-12-15T22:31:57.054466+08:00","closed_at":"2025-12-15T22:31:57.054466+08:00"}
{"id":"dilag-u0c","title":"Migrate to OpenCode SDK v2 client","description":"Refactor to use @opencode-ai/sdk/v2/client instead of custom opencode.ts\n\nChanges:\n- Upgrade SDK from 1.0.153 to 1.0.162\n- Delete src/lib/opencode.ts (custom client)\n- Refactor global-events.tsx to use SDK event types\n- Refactor session-store.tsx: parts now stored by messageId (like OpenCode)\n- Update use-sessions.tsx for new store structure\n- Update chat-view.tsx and other components for new types\n\nFiles changed:\n- bun.lock, package.json (SDK upgrade)\n- src/lib/opencode.ts (deleted)\n- src/context/global-events.tsx\n- src/context/session-store.tsx\n- src/hooks/use-sessions.tsx\n- src/components/blocks/chat-view.tsx\n- src/components/blocks/auth-settings.tsx\n- src/components/blocks/debug-pane.tsx\n- src/components/blocks/message-part.tsx\n- src/components/blocks/tool-part.tsx\n- src/lib/tool-registry.tsx","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-16T11:52:13.812894+08:00","updated_at":"2025-12-16T11:53:17.649415+08:00","closed_at":"2025-12-16T11:53:17.649415+08:00"}
{"id":"dilag-ugt","title":"Tool call and message part rendering","description":"Render tool calls, reasoning, file, and step-start parts in chat messages with OpenCode parity","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-16T02:02:02.887148+08:00","updated_at":"2025-12-16T02:02:15.769344+08:00","closed_at":"2025-12-16T02:02:15.769344+08:00"}
{"id":"dilag-uhp","title":"Fix auth settings connection status after SDK migration","description":"","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-12-16T12:37:07.166397+08:00","updated_at":"2025-12-16T12:37:18.184154+08:00","closed_at":"2025-12-16T12:37:18.184154+08:00"}
{"id":"dilag-ur1","title":"Extend opencode.ts event types","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-16T02:12:17.872571+08:00","updated_at":"2025-12-16T02:16:21.294+08:00","closed_at":"2025-12-16T02:16:21.294+08:00"}
{"id":"dilag-wpk","title":"Isolate OpenCode config to ~/.dilag/config","description":"Create dedicated config directory at ~/.dilag/config/ with default opencode.json and pass OPENCODE_CONFIG_DIR env var when spawning server","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-15T23:03:22.950537+08:00","updated_at":"2025-12-15T23:03:34.777214+08:00","closed_at":"2025-12-15T23:03:34.777214+08:00"}
{"id":"dilag-zid","title":"Refactor messages to use ai-elements Message component","description":"Refactored UserMessage and AssistantMessage to use Message and MessageContent from ai-elements/message.tsx. Removed avatar from assistant messages. User messages now left-aligned.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-16T12:27:35.602087+08:00","updated_at":"2025-12-16T12:27:55.08068+08:00","closed_at":"2025-12-16T12:27:55.08068+08:00"}
