{"id":"dilag-03i","title":"Fix chat panel layout width","description":"Removed w-3xl/max-w-4xl constraints, set fixed 360px width for chat panel","status":"tombstone","priority":2,"issue_type":"task","created_at":"2025-12-17T01:13:20.710259+08:00","updated_at":"2025-12-17T02:52:18.076516+08:00","close_reason":"Implemented","deleted_at":"2025-12-17T02:52:18.076516+08:00","deleted_by":"git-history-backfill","delete_reason":"recovered from git history (pruned from manifest)","original_type":"task"}
{"id":"dilag-0uk","title":"Extend session store with design state","description":"","status":"tombstone","priority":1,"issue_type":"task","created_at":"2025-12-16T21:36:08.92749+08:00","updated_at":"2025-12-17T02:52:18.032618+08:00","close_reason":"Closed","deleted_at":"2025-12-17T02:52:18.032618+08:00","deleted_by":"git-history-backfill","delete_reason":"recovered from git history (pruned from manifest)","original_type":"task"}
{"id":"dilag-2gl","title":"Refactor agent config to use opencode.json agent field","description":"","status":"tombstone","priority":2,"issue_type":"task","created_at":"2025-12-17T02:00:43.420172+08:00","updated_at":"2025-12-17T02:52:18.064544+08:00","close_reason":"Refactored from file-based AGENTS.md approach to config-based agent. Designer agent now defined in opencode.json under agent.designer field with prompt, mode, description, and tools. Frontend passes agent: 'designer' in session.prompt calls. No model specified so user's selection is used.","deleted_at":"2025-12-17T02:52:18.064544+08:00","deleted_by":"git-history-backfill","delete_reason":"recovered from git history (pruned from manifest)","original_type":"task"}
{"id":"dilag-2yc","title":"Fix chat view scrolling and height","description":"Fixed Conversation component not scrolling: added proper flex layout with flex-1 min-h-0, removed conflicting overflow-y-auto from ConversationContent, fixed height calculation for viewport.","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-12-16T12:27:29.057466+08:00","updated_at":"2025-12-16T12:27:55.080365+08:00","closed_at":"2025-12-16T12:27:55.080365+08:00"}
{"id":"dilag-3i4","title":"Improve tool registry with backend metadata","description":"Update tools to use metadata from opencode backend: read uses preview, bash shows exit code, glob/grep/list show counts and truncation, task shows sub-agent summary","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-17T11:16:47.841142+08:00","updated_at":"2025-12-17T11:17:13.596386+08:00","closed_at":"2025-12-17T11:17:13.596386+08:00","close_reason":"Closed"}
{"id":"dilag-3og","title":"Native macOS theme and window styling","description":"Updated theme to native macOS aesthetic: system fonts (SF Pro), macOS blue accent, warm neutral grays, subtle borders, vibrancy classes, refined shadows. Configured Tauri window with visible title bar and matching background color.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-16T12:27:22.824106+08:00","updated_at":"2025-12-16T12:27:55.080096+08:00","closed_at":"2025-12-16T12:27:55.080096+08:00"}
{"id":"dilag-424","title":"Fix useDesigns hook causing repeated IPC calls","description":"","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-12-17T01:55:50.014366+08:00","updated_at":"2025-12-17T11:21:06.938036+08:00","closed_at":"2025-12-17T11:21:06.938036+08:00","close_reason":"Closed","deleted_at":"2025-12-17T02:52:18.068566+08:00","deleted_by":"git-history-backfill","delete_reason":"recovered from git history (pruned from manifest)","original_type":"bug"}
{"id":"dilag-4jj","title":"Create session-store.tsx - Zustand store","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-16T02:12:12.74189+08:00","updated_at":"2025-12-16T02:14:33.062746+08:00","closed_at":"2025-12-16T02:14:33.062746+08:00"}
{"id":"dilag-5sa","title":"Session isolation: Use ~/.dilag/** as session cwd","description":"## Problem\nOpenCode currently reads the project directory, making the agent aware of the dilag project itself. This is undesirable - each agent session should only be aware of its own sandbox.\n\n## Solution\n- Create ~/.dilag/\u003csession-id\u003e/ directory for each session\n- Set this as the cwd/working directory for the agent session\n- Agent will only see files within its session directory\n\n## Benefits\n- Session isolation: agents can't access or modify dilag source code\n- Clean sandbox: each session starts with a fresh, isolated workspace\n- Security: prevents agents from accidentally modifying the host project","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-15T22:35:53.532545+08:00","updated_at":"2025-12-15T22:44:59.50034+08:00","closed_at":"2025-12-15T22:44:59.50034+08:00"}
{"id":"dilag-65y","title":"Remove debug events tool from page","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-16T11:54:39.98839+08:00","updated_at":"2025-12-16T12:27:55.078219+08:00","closed_at":"2025-12-16T12:27:55.078219+08:00"}
{"id":"dilag-6cs","title":"Update session store with screen positions","description":"","status":"tombstone","priority":2,"issue_type":"task","created_at":"2025-12-17T02:44:54.3932+08:00","updated_at":"2025-12-17T02:52:18.04764+08:00","close_reason":"Closed","deleted_at":"2025-12-17T02:52:18.04764+08:00","deleted_by":"git-history-backfill","delete_reason":"recovered from git history (pruned from manifest)","original_type":"task"}
{"id":"dilag-6yp","title":"Fix: Open auth page button not working in Tauri","description":"","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-12-15T22:06:01.059557+08:00","updated_at":"2025-12-15T22:06:13.390519+08:00","closed_at":"2025-12-15T22:06:13.390519+08:00"}
{"id":"dilag-718","title":"Refactor use-sessions to use new architecture","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-16T02:12:38.388432+08:00","updated_at":"2025-12-16T02:22:34.733907+08:00","closed_at":"2025-12-16T02:22:34.733907+08:00"}
{"id":"dilag-779","title":"Create diff-viewer component","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-16T02:12:33.264069+08:00","updated_at":"2025-12-16T02:22:34.734516+08:00","closed_at":"2025-12-16T02:22:34.734516+08:00"}
{"id":"dilag-79a","title":"Build design preview UI components","description":"","status":"tombstone","priority":1,"issue_type":"task","created_at":"2025-12-16T21:36:15.505331+08:00","updated_at":"2025-12-17T02:52:18.027711+08:00","close_reason":"Closed","deleted_at":"2025-12-17T02:52:18.027711+08:00","deleted_by":"git-history-backfill","delete_reason":"recovered from git history (pruned from manifest)","original_type":"task"}
{"id":"dilag-83z","title":"Add Dilag app icon - morph D design","description":"Created distinctive app icon for Dilag featuring the 'morph' concept:\n\n- Ghost rectangle (outline) representing the input/prompt state\n- Solid organic D-shape representing the transformed output/design\n- Dark gradient background matching the app's dark theme (oklch 0.16 0.01 260)\n- Proper macOS icon padding for correct dock sizing\n\nFiles added/modified:\n- app-icon.png - Main icon source with padding\n- icon-source.svg - Vector source for the icon design\n- src-tauri/icons/* - Generated icon assets for all platforms\n\nThe icon symbolizes Dilag's core function: transforming prompts into mobile UI designs.","status":"closed","priority":2,"issue_type":"chore","created_at":"2025-12-18T01:07:39.627258+08:00","updated_at":"2025-12-18T01:07:50.778826+08:00","closed_at":"2025-12-18T01:07:50.778826+08:00","close_reason":"Closed"}
{"id":"dilag-8gk","title":"Design preview not showing designs from session directory","description":"","status":"tombstone","priority":1,"issue_type":"bug","created_at":"2025-12-17T00:50:06.307626+08:00","updated_at":"2025-12-17T02:52:18.018736+08:00","close_reason":"Fixed by dilag-424: useDesigns hook was causing repeated IPC calls due to activeIndex in refresh callback dependencies","deleted_at":"2025-12-17T02:52:18.018736+08:00","deleted_by":"git-history-backfill","delete_reason":"recovered from git history (pruned from manifest)","original_type":"bug"}
{"id":"dilag-8io","title":"Debug pane for OpenCode events","description":"Collapsible debug pane showing raw events from OpenCode server with filtering and JSON expansion","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-16T02:02:28.212507+08:00","updated_at":"2025-12-16T02:02:39.042451+08:00","closed_at":"2025-12-16T02:02:39.042451+08:00"}
{"id":"dilag-8k4","title":"Add Anthropic auth settings and upgrade to claude-opus-4-5","description":"Add ability to connect/disconnect Anthropic provider via OAuth and upgrade default model to claude-opus-4-5.","acceptance_criteria":"- [x] Settings button (gear icon) in header\n- [x] Auth dialog shows Anthropic connection status\n- [x] Connect button initiates OAuth flow (opens browser)\n- [x] User can paste authorization code to complete auth\n- [x] Disconnect button removes provider connection\n- [x] Default model updated to claude-opus-4-5\n- [x] Auth API functions added (getProviders, startOAuthFlow, completeOAuthFlow, disconnectProvider)","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-15T22:03:34.396424+08:00","updated_at":"2025-12-15T22:03:45.909431+08:00","closed_at":"2025-12-15T22:03:45.909431+08:00"}
{"id":"dilag-8k8","title":"Enhanced tool-registry with syntax highlighting and diff support","description":"","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-16T20:36:41.812048+08:00","updated_at":"2025-12-16T20:37:06.738873+08:00","closed_at":"2025-12-16T20:37:06.738873+08:00"}
{"id":"dilag-99t","title":"Add edit tool with diff support","description":"Add edit tool that displays unified diff from metadata.diff and shows additions/deletions count from metadata.filediff","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-17T11:16:37.902408+08:00","updated_at":"2025-12-17T11:17:08.453123+08:00","closed_at":"2025-12-17T11:17:08.453123+08:00","close_reason":"Closed"}
{"id":"dilag-9vv","title":"Add screen thumbnail previews to project cards","description":"Add ProjectCard and ScreenThumbnail components to show design previews in recent projects list with scaled iframe rendering","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-17T10:59:29.067576+08:00","updated_at":"2025-12-17T11:00:03.727629+08:00","closed_at":"2025-12-17T11:00:03.727629+08:00","close_reason":"Closed"}
{"id":"dilag-ank","title":"Simplify CSS - remove unused macOS-specific styles","description":"Remove vibrancy, shadow-mac, status-dot, window-drag, and other unused macOS-specific CSS utilities","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-17T10:59:24.751038+08:00","updated_at":"2025-12-17T10:59:48.261722+08:00","closed_at":"2025-12-17T10:59:48.261722+08:00","close_reason":"Closed"}
{"id":"dilag-bf7","title":"Remove design tool from registry","description":"Remove the design tool entry and simplify write tool to not have HTML-specific handling","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-17T11:16:28.277513+08:00","updated_at":"2025-12-17T11:17:03.305915+08:00","closed_at":"2025-12-17T11:17:03.305915+08:00","close_reason":"Closed"}
{"id":"dilag-c19","title":"Port canvas components from angas","description":"","status":"tombstone","priority":2,"issue_type":"task","created_at":"2025-12-17T02:44:44.085647+08:00","updated_at":"2025-12-17T02:52:18.05654+08:00","close_reason":"Closed","deleted_at":"2025-12-17T02:52:18.05654+08:00","deleted_by":"git-history-backfill","delete_reason":"recovered from git history (pruned from manifest)","original_type":"task"}
{"id":"dilag-cxr","title":"Add design/theme tool configs to tool-registry","description":"Added tool configs for design and theme tools with icons, titles, subtitles, and preview rendering","status":"tombstone","priority":2,"issue_type":"task","created_at":"2025-12-17T01:12:43.960806+08:00","updated_at":"2025-12-17T02:52:18.096551+08:00","close_reason":"Implemented","deleted_at":"2025-12-17T02:52:18.096551+08:00","deleted_by":"git-history-backfill","delete_reason":"recovered from git history (pruned from manifest)","original_type":"task"}
{"id":"dilag-dpc","title":"Redesign session sidebar UI","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-16T02:12:28.135358+08:00","updated_at":"2025-12-16T02:22:15.752385+08:00","closed_at":"2025-12-16T02:22:15.752385+08:00"}
{"id":"dilag-e2m","title":"Integrate split-pane layout and designer mode","description":"","status":"tombstone","priority":1,"issue_type":"task","created_at":"2025-12-16T21:36:22.789955+08:00","updated_at":"2025-12-17T02:52:18.02373+08:00","close_reason":"Closed","deleted_at":"2025-12-17T02:52:18.02373+08:00","deleted_by":"git-history-backfill","delete_reason":"recovered from git history (pruned from manifest)","original_type":"task"}
{"id":"dilag-e9x","title":"Add model selector to chat composer","description":"","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-16T12:42:56.601514+08:00","updated_at":"2025-12-16T12:44:53.767368+08:00","closed_at":"2025-12-16T12:44:53.767368+08:00"}
{"id":"dilag-eah","title":"Update sidebar layout for native window","description":"Simplified sidebar header with New button and toggle. Added sidebar trigger in main header when collapsed. Removed traffic light spacing after switching to visible title bar.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-16T12:27:42.248794+08:00","updated_at":"2025-12-16T12:27:55.080896+08:00","closed_at":"2025-12-16T12:27:55.080896+08:00"}
{"id":"dilag-eo2","title":"Add Rust load_session_designs command","description":"Scans session root and designs/ subfolder for HTML files, extracts title and screen_type from data attributes","status":"tombstone","priority":2,"issue_type":"task","created_at":"2025-12-17T01:13:00.092312+08:00","updated_at":"2025-12-17T02:52:18.09251+08:00","close_reason":"Implemented","deleted_at":"2025-12-17T02:52:18.09251+08:00","deleted_by":"git-history-backfill","delete_reason":"recovered from git history (pruned from manifest)","original_type":"task"}
{"id":"dilag-er1","title":"Add bd issue tracker documentation to AGENTS.md and CLAUDE.md","description":"Document bd CLI commands and AI integration in project agents files","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-17T10:59:21.738687+08:00","updated_at":"2025-12-17T10:59:37.969357+08:00","closed_at":"2025-12-17T10:59:37.969357+08:00","close_reason":"Closed"}
{"id":"dilag-ezp","title":"Improved tool-part UI with elapsed timer and shimmer effects","description":"","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-16T20:36:48.119486+08:00","updated_at":"2025-12-16T20:37:06.739931+08:00","closed_at":"2025-12-16T20:37:06.739931+08:00"}
{"id":"dilag-ffd","title":"OpenCode Session \u0026 Chat Integration","description":"Integrate OpenCode SDK to create sessions and chat. Tauri manages the server process, sessions stored in ~/.dilag/sessions/. UI includes session sidebar + chat view.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-15T21:42:24.663652+08:00","updated_at":"2025-12-15T21:48:58.726671+08:00","closed_at":"2025-12-15T21:48:58.726671+08:00"}
{"id":"dilag-g55","title":"Update typography to IBM Plex + Rubik fonts","description":"Replace system fonts with IBM Plex Mono, IBM Plex Serif, and Rubik for consistent branding","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-17T10:59:23.165486+08:00","updated_at":"2025-12-17T10:59:43.115269+08:00","closed_at":"2025-12-17T10:59:43.115269+08:00","close_reason":"Closed"}
{"id":"dilag-gqz","title":"Refactor tool renderers to data-driven registry","description":"Replace 12 boilerplate tool renderer files with single tool-registry.tsx config + ToolPart component","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-16T02:02:50.304482+08:00","updated_at":"2025-12-16T02:03:03.272488+08:00","closed_at":"2025-12-16T02:03:03.272488+08:00"}
{"id":"dilag-hve","title":"Reduce message gap in chat view","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-17T11:16:17.971239+08:00","updated_at":"2025-12-17T11:16:58.158778+08:00","closed_at":"2025-12-17T11:16:58.158778+08:00","close_reason":"Closed"}
{"id":"dilag-k1s","title":"Add multi-provider OAuth support to auth settings","description":"","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-16T12:54:16.253949+08:00","updated_at":"2025-12-16T12:56:16.705966+08:00","closed_at":"2025-12-16T12:56:16.705966+08:00"}
{"id":"dilag-kpn","title":"Create global-events.tsx - Event stream manager","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-16T02:12:07.615071+08:00","updated_at":"2025-12-16T02:13:29.643707+08:00","closed_at":"2025-12-16T02:13:29.643707+08:00"}
{"id":"dilag-kws","title":"Create useDesigns hook","description":"Hook that calls Tauri command to load designs, polls every 2s, manages active design state","status":"tombstone","priority":2,"issue_type":"task","created_at":"2025-12-17T01:13:10.400455+08:00","updated_at":"2025-12-17T02:52:18.084546+08:00","close_reason":"Implemented","deleted_at":"2025-12-17T02:52:18.084546+08:00","deleted_by":"git-history-backfill","delete_reason":"recovered from git history (pruned from manifest)","original_type":"task"}
{"id":"dilag-l64","title":"TkDodo/KCD Refactoring Plan","description":"Refactoring based on TkDodo (React Query) and Kent C. Dodds patterns.\n\n## Completed\n\n### Phase 1: Foundation (Testing \u0026 Error Boundaries)\n- [x] Setup Vitest + React Testing Library\n- [x] Add Error Boundaries (root, message-part, design-canvas)\n- [x] Write initial tests for session-store.tsx (19 tests)\n\n### Phase 2: Data Fetching Architecture\n- [x] Setup TanStack Query with DevTools\n- [x] Migrate use-designs.tsx to React Query (with polling)\n- [x] Migrate use-models.tsx to React Query\n- [x] Hybrid architecture: React Query for server state, Zustand for SSE real-time\n- [x] Create use-session-data.ts with query keys and mutations\n\n### Phase 3: Component \u0026 Hook Refactoring\n- [x] ~~Split prompt-input.tsx~~ - Analyzed: shadcn component kept as-is (1,414 lines intentional)\n- [x] ~~Split use-sessions.tsx~~ - Analyzed: cohesive 324-line facade hook kept as-is\n\n\u003e **Decision:** After usage audit, both files follow KCD/TkDodo principles as-is.\n\u003e prompt-input.tsx is a shadcn template with optional features for future use.\n\u003e use-sessions.tsx is a single cohesive feature hook at reasonable size.\n\n### Phase 4: Code Quality Polish\n- [x] Add Suspense/Code Splitting for routes (lazy loading)\n  - Created index.lazy.tsx and studio.$sessionId.lazy.tsx\n  - Updated route files to minimal definitions\n  - Added Suspense with loading fallback in __root.tsx\n  - TanStack Router automatically lazy loads the components\n- [x] Standardize hook file extensions (.ts for non-JSX hooks)\n  - Renamed use-designs.tsx → use-designs.ts\n  - Renamed use-models.tsx → use-models.ts\n  - Renamed use-sessions.tsx → use-sessions.ts\n- [x] Add more integration tests\n  - Created use-designs.test.ts (basic export testing)\n  - Created use-sessions.test.ts (basic integration testing)\n  - All tests pass (23 total tests)","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-17T12:02:26.081889+08:00","updated_at":"2025-12-17T12:47:36.632702+08:00","closed_at":"2025-12-17T12:47:36.632702+08:00","close_reason":"Closed"}
{"id":"dilag-ljz","title":"Redesign message display \u0026 streaming UI","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-16T02:12:23.003176+08:00","updated_at":"2025-12-16T02:22:15.751197+08:00","closed_at":"2025-12-16T02:22:15.751197+08:00"}
{"id":"dilag-nyi","title":"Fix OpenCode API message parsing","description":"Messages were showing as empty bubbles because the SDK wasn't passing the model parameter correctly. Root cause: OpenCode API requires model as object { providerID, modelID } not a string.","acceptance_criteria":"- [x] Messages from assistant display with actual content\n- [x] Model parameter correctly formatted as { providerID: \"anthropic\", modelID: \"...\" }\n- [x] Switch from SDK to direct fetch calls for proper control\n- [x] Session messages load when switching sessions\n- [x] Text extracted correctly from message parts with type: \"text\"","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-12-15T22:03:04.571873+08:00","updated_at":"2025-12-15T22:03:19.789306+08:00","closed_at":"2025-12-15T22:03:19.789306+08:00"}
{"id":"dilag-o0z","title":"Create design preview UI components","description":"design-preview.tsx, design-preview-frame.tsx, design-code-view.tsx for rendering HTML designs","status":"tombstone","priority":2,"issue_type":"task","created_at":"2025-12-17T01:13:05.246254+08:00","updated_at":"2025-12-17T02:52:18.088572+08:00","close_reason":"Implemented","deleted_at":"2025-12-17T02:52:18.088572+08:00","deleted_by":"git-history-backfill","delete_reason":"recovered from git history (pruned from manifest)","original_type":"task"}
{"id":"dilag-o2a","title":"Cleanup chat-view component","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-16T20:36:54.389768+08:00","updated_at":"2025-12-16T20:37:06.740216+08:00","closed_at":"2025-12-16T20:37:06.740216+08:00"}
{"id":"dilag-o2b","title":"Cleanup session-store design detection","description":"Removed SSE-based design detection code, now using file-based approach","status":"tombstone","priority":2,"issue_type":"task","created_at":"2025-12-17T01:13:25.864501+08:00","updated_at":"2025-12-17T02:52:18.072543+08:00","close_reason":"Implemented","deleted_at":"2025-12-17T02:52:18.072543+08:00","deleted_by":"git-history-backfill","delete_reason":"recovered from git history (pruned from manifest)","original_type":"task"}
{"id":"dilag-oq0","title":"Create landing page","description":"","status":"tombstone","priority":2,"issue_type":"task","created_at":"2025-12-17T02:44:59.544913+08:00","updated_at":"2025-12-17T02:52:18.043595+08:00","close_reason":"Closed","deleted_at":"2025-12-17T02:52:18.043595+08:00","deleted_by":"git-history-backfill","delete_reason":"recovered from git history (pruned from manifest)","original_type":"task"}
{"id":"dilag-p38","title":"Render tool calls and other message part types","description":"","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-16T01:18:42.768841+08:00","updated_at":"2025-12-16T01:30:05.095451+08:00","closed_at":"2025-12-16T01:30:05.095451+08:00"}
{"id":"dilag-svu","title":"Add streaming support for chat messages","description":"Use OpenCode event stream to show responses in real-time instead of waiting for complete response","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-15T22:31:41.874101+08:00","updated_at":"2025-12-15T22:31:57.054466+08:00","closed_at":"2025-12-15T22:31:57.054466+08:00"}
{"id":"dilag-u0c","title":"Migrate to OpenCode SDK v2 client","description":"Refactor to use @opencode-ai/sdk/v2/client instead of custom opencode.ts\n\nChanges:\n- Upgrade SDK from 1.0.153 to 1.0.162\n- Delete src/lib/opencode.ts (custom client)\n- Refactor global-events.tsx to use SDK event types\n- Refactor session-store.tsx: parts now stored by messageId (like OpenCode)\n- Update use-sessions.tsx for new store structure\n- Update chat-view.tsx and other components for new types\n\nFiles changed:\n- bun.lock, package.json (SDK upgrade)\n- src/lib/opencode.ts (deleted)\n- src/context/global-events.tsx\n- src/context/session-store.tsx\n- src/hooks/use-sessions.tsx\n- src/components/blocks/chat-view.tsx\n- src/components/blocks/auth-settings.tsx\n- src/components/blocks/debug-pane.tsx\n- src/components/blocks/message-part.tsx\n- src/components/blocks/tool-part.tsx\n- src/lib/tool-registry.tsx","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-16T11:52:13.812894+08:00","updated_at":"2025-12-16T11:53:17.649415+08:00","closed_at":"2025-12-16T11:53:17.649415+08:00"}
{"id":"dilag-ugt","title":"Tool call and message part rendering","description":"Render tool calls, reasoning, file, and step-start parts in chat messages with OpenCode parity","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-16T02:02:02.887148+08:00","updated_at":"2025-12-16T02:02:15.769344+08:00","closed_at":"2025-12-16T02:02:15.769344+08:00"}
{"id":"dilag-uhp","title":"Fix auth settings connection status after SDK migration","description":"","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-12-16T12:37:07.166397+08:00","updated_at":"2025-12-16T12:37:18.184154+08:00","closed_at":"2025-12-16T12:37:18.184154+08:00"}
{"id":"dilag-ur1","title":"Extend opencode.ts event types","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-16T02:12:17.872571+08:00","updated_at":"2025-12-16T02:16:21.294+08:00","closed_at":"2025-12-16T02:16:21.294+08:00"}
{"id":"dilag-v4i","title":"Update Rust backend for screens/ path","description":"","status":"tombstone","priority":2,"issue_type":"task","created_at":"2025-12-17T02:44:49.239837+08:00","updated_at":"2025-12-17T02:52:18.051656+08:00","close_reason":"Closed","deleted_at":"2025-12-17T02:52:18.051656+08:00","deleted_by":"git-history-backfill","delete_reason":"recovered from git history (pruned from manifest)","original_type":"task"}
{"id":"dilag-vnl","title":"Add @dnd-kit dependencies","description":"","status":"tombstone","priority":2,"issue_type":"task","created_at":"2025-12-17T02:44:38.925755+08:00","updated_at":"2025-12-17T02:52:18.060601+08:00","close_reason":"Closed","deleted_at":"2025-12-17T02:52:18.060601+08:00","deleted_by":"git-history-backfill","delete_reason":"recovered from git history (pruned from manifest)","original_type":"task"}
{"id":"dilag-w5c","title":"Add design generation skeleton and shimmer states","description":"Add DesignSkeleton component and shimmer loading states to Write tool for HTML design outputs with AnimatePresence transitions","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-17T10:59:26.651346+08:00","updated_at":"2025-12-17T10:59:53.421728+08:00","closed_at":"2025-12-17T10:59:53.421728+08:00","close_reason":"Closed"}
{"id":"dilag-wpk","title":"Isolate OpenCode config to ~/.dilag/config","description":"Create dedicated config directory at ~/.dilag/config/ with default opencode.json and pass OPENCODE_CONFIG_DIR env var when spawning server","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-15T23:03:22.950537+08:00","updated_at":"2025-12-15T23:03:34.777214+08:00","closed_at":"2025-12-15T23:03:34.777214+08:00"}
{"id":"dilag-xgi","title":"Redesign landing page with minimal aesthetic","description":"Simplify landing page with minimal header, centered prompt, cleaner typography and reduced visual clutter","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-17T10:59:27.694814+08:00","updated_at":"2025-12-17T10:59:58.574782+08:00","closed_at":"2025-12-17T10:59:58.574782+08:00","close_reason":"Closed"}
{"id":"dilag-xl4","title":"Create design-export utilities","description":"copyToClipboard and downloadHtml functions for exporting designs","status":"tombstone","priority":2,"issue_type":"task","created_at":"2025-12-17T01:13:15.562433+08:00","updated_at":"2025-12-17T02:52:18.080551+08:00","close_reason":"Implemented","deleted_at":"2025-12-17T02:52:18.080551+08:00","deleted_by":"git-history-backfill","delete_reason":"recovered from git history (pruned from manifest)","original_type":"task"}
{"id":"dilag-ypi","title":"Create studio page","description":"","status":"tombstone","priority":2,"issue_type":"task","created_at":"2025-12-17T02:45:04.699461+08:00","updated_at":"2025-12-17T02:52:18.03972+08:00","close_reason":"Created studio page with collapsible chat pane and draggable canvas. Integrated with session store for screen positions persistence.","deleted_at":"2025-12-17T02:52:18.03972+08:00","deleted_by":"git-history-backfill","delete_reason":"recovered from git history (pruned from manifest)","original_type":"task"}
{"id":"dilag-ytc","title":"Implement file-based design loading","description":"Scan session directory for HTML files instead of detecting via SSE events. Added Rust command load_session_designs and useDesigns hook.","status":"tombstone","priority":2,"issue_type":"feature","created_at":"2025-12-17T00:50:33.139597+08:00","updated_at":"2025-12-17T02:52:18.100528+08:00","close_reason":"Implemented: Rust load_session_designs command scans session root + designs/ subfolder, useDesigns hook polls every 2s","deleted_at":"2025-12-17T02:52:18.100528+08:00","deleted_by":"git-history-backfill","delete_reason":"recovered from git history (pruned from manifest)","original_type":"feature"}
{"id":"dilag-yva","title":"Create designer agent configuration","description":"","status":"tombstone","priority":1,"issue_type":"task","created_at":"2025-12-16T21:36:02.471+08:00","updated_at":"2025-12-17T02:52:18.036643+08:00","close_reason":"Closed","deleted_at":"2025-12-17T02:52:18.036643+08:00","deleted_by":"git-history-backfill","delete_reason":"recovered from git history (pruned from manifest)","original_type":"task"}
{"id":"dilag-zda","title":"Chat panel layout too wide","description":"Chat panel width constraints (w-3xl, max-w-4xl) causing overflow. Need to fit within 360px container.","status":"tombstone","priority":2,"issue_type":"bug","created_at":"2025-12-17T00:50:21.006384+08:00","updated_at":"2025-12-17T02:52:18.104501+08:00","close_reason":"Fixed: Removed w-3xl and max-w-4xl from ChatView, reduced chat panel to 360px fixed width","deleted_at":"2025-12-17T02:52:18.104501+08:00","deleted_by":"git-history-backfill","delete_reason":"recovered from git history (pruned from manifest)","original_type":"bug"}
{"id":"dilag-zid","title":"Refactor messages to use ai-elements Message component","description":"Refactored UserMessage and AssistantMessage to use Message and MessageContent from ai-elements/message.tsx. Removed avatar from assistant messages. User messages now left-aligned.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-16T12:27:35.602087+08:00","updated_at":"2025-12-16T12:27:55.08068+08:00","closed_at":"2025-12-16T12:27:55.08068+08:00"}
